(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{350:function(s,t,e){s.exports=e.p+"assets/img/ssh-status.92421fe6.jpg"},358:function(s,t,e){"use strict";e.r(t);var a=e(42),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"securite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#securite"}},[s._v("#")]),s._v(" Sécurité")]),s._v(" "),a("h2",{attrs:{id:"sudo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sudo"}},[s._v("#")]),s._v(" Sudo")]),s._v(" "),a("p",[s._v("Afin qu'il ait plus de pouvoir, ajoutons notre utilisateur au groupe "),a("code",[s._v("sudo")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("utilisateur"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("h2",{attrs:{id:"configurer-ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configurer-ssh"}},[s._v("#")]),s._v(" Configurer SSH")]),s._v(" "),a("p",[s._v("Par défaut SSH utilise le port 22, changeons ce port afin d'ajouter une fine couche de sécurité.\nOuvrez le fichier "),a("code",[s._v("/etc/ssh/sshd_config")]),s._v(" avec nano par exemple :")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /etc/ssh/sshd_config\n")])])]),a("p",[s._v("Décommentez et changez la ligne définissant le port à utiliser pour par exemple 1337, 5555 ou 1234")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The strategy used for options in the default sshd_config shipped with")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OpenSSH is to specify options with their default value where")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# possible, but leave them commented.  Uncommented options override the")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# default value.")]),s._v("\n\n- "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Port 22")]),s._v("\n+ Port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1337")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#AddressFamily any")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ListenAddress 0.0.0.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ListenAddress ::")]),s._v("\n")])])]),a("p",[s._v("Refusez la connexion à root en décommentant et en modifiant la ligne "),a("code",[s._v("PermitRootLogin")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Authentication:")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#LoginGraceTime 2m")]),s._v("\n- "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#PermitRootLogin prohibit-password")]),s._v("\n+ PermitRootLogin no\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#StrictModes yes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#MaxAuthTries 6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#MaxSessions 10")]),s._v("\n")])])]),a("p",[s._v("Quittez et sauvegardez avec "),a("code",[s._v("CTRL + X")]),s._v("\nRedémarrez le service SSH")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl restart sshd\n")])])]),a("p",[s._v("Vérifiez le statut du service (Figure 1)")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl status sshd\n")])])]),a("p",[a("img",{attrs:{src:e(350),alt:"Statut du service SSH"}}),s._v(" "),a("em",[s._v("Figure 1: Statut du service SSH")])]),s._v(" "),a("p",[s._v("Vous pouvez à présent vous déconnectez du serveur et vous reconnectez avec le nouveau port")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("utilisateur"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("IP_du_serveur"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1337")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);