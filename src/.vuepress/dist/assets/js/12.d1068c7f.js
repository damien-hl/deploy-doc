(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{371:function(s,e,a){s.exports=a.p+"assets/img/java_service_status.b3ebc3c5.jpg"},387:function(s,e,a){"use strict";a.r(e);var t=a(42),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"java-partie-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-partie-2"}},[s._v("#")]),s._v(" Java - Partie 2")]),s._v(" "),t("h2",{attrs:{id:"mise-en-place-du-service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mise-en-place-du-service"}},[s._v("#")]),s._v(" Mise en place du service")]),s._v(" "),t("p",[s._v("Passez en super utilisateur "),t("code",[s._v("root")]),s._v(" et créez le fichier "),t("code",[s._v("/etc/systemd/system/<nom_du_projet>.service")]),s._v(" :")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /etc/systemd/system/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("nom_du_projet"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".service\n")])])]),t("p",[s._v("Modifiez-le à l'aide de nano :")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /etc/systemd/system/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("nom_du_projet"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".service\n")])])]),t("p",[s._v("Remplissez ce fichier avec les lignes suivantes (Figure 1) :")]),s._v(" "),t("div",{staticClass:"language-markup extra-class"},[t("pre",{pre:!0,attrs:{class:"language-markup"}},[t("code",[s._v("[Unit]\nDescription=Java Service for "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("nom_du_projet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n[Service]\nUser=ubuntu\nExecStart=/home/ubuntu/www/"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("nom_du_projet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("/back/"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("nom_du_fichier")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(".jar\nSuccessExitStatus=143\nTimeoutStopSec=10\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\n")])])]),t("p",[t("img",{attrs:{src:"src/guide/images/java_service.jpg",alt:"Contenu du service"}}),s._v(" "),t("em",[s._v("Figure 1 : Contenu du service")])]),s._v(" "),t("p",[s._v("Rechargez les services :")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl daemon-reload\n")])])]),t("p",[s._v("Activez le service à l'aide de cette commande :")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("nom_du_projet"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".service\n")])])]),t("p",[s._v("Démarrez-le comme cela :")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl start "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("nom_du_projet"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".service\n")])])]),t("p",[s._v("Et vérifiez son statut (Figure 2) :")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl status "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("nom_du_projet"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".service\n")])])]),t("p",[t("img",{attrs:{src:a(371),alt:"Statut du service"}}),s._v(" "),t("em",[s._v("Figure 2 : Statut du service")])]),s._v(" "),t("p",[s._v("Le back-end devrait maintenant fonctionner !")])])}),[],!1,null,null,null);e.default=r.exports}}]);