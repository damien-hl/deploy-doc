(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{382:function(e,s,a){e.exports=a.p+"assets/img/java_part_two_service.d289cca1.jpg"},383:function(e,s,a){e.exports=a.p+"assets/img/java_part_two_service_status.b3ebc3c5.jpg"},398:function(e,s,a){"use strict";a.r(s);var t=a(42),r=Object(t.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"java-partie-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-partie-2"}},[e._v("#")]),e._v(" Java - Partie 2")]),e._v(" "),t("h2",{attrs:{id:"mise-en-place-du-service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mise-en-place-du-service"}},[e._v("#")]),e._v(" Mise en place du service")]),e._v(" "),t("p",[e._v("Donnez à l'utilisateur, les droits d'exécuter le fichier .jar :")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x chantemelse-0.0.1-SNAPSHOT.jar\n")])])]),t("p",[e._v("Passez en super utilisateur "),t("code",[e._v("root")]),e._v(" et créez le fichier "),t("code",[e._v("/etc/systemd/system/chantemelse.service")]),e._v(" :")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("touch")]),e._v(" /etc/systemd/system/chantemelse.service\n")])])]),t("p",[e._v("Modifiez-le à l'aide de nano :")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" /etc/systemd/system/chantemelse.service\n")])])]),t("p",[e._v("Remplissez ce fichier avec les lignes suivantes (Figure 1) :")]),e._v(" "),t("div",{staticClass:"language-markup extra-class"},[t("pre",{pre:!0,attrs:{class:"language-markup"}},[t("code",[e._v("[Unit]\nDescription=Java Service for chantemelse\n\n[Service]\nUser=ubuntu\nExecStart=/home/ubuntu/www/chantemelse/back/chantemelse-0.0.1-SNAPSHOT.jar\nSuccessExitStatus=143\nTimeoutStopSec=10\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\n")])])]),t("p",[t("img",{attrs:{src:a(382),alt:"Contenu du service"}}),e._v(" "),t("em",[e._v("Figure 1 : Contenu du service")])]),e._v(" "),t("p",[e._v("Rechargez les services :")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("systemctl daemon-reload\n")])])]),t("p",[e._v("Activez le service à l'aide de cette commande :")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("enable")]),e._v(" chantemelse.service\n")])])]),t("p",[e._v("Démarrez-le comme cela :")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("systemctl start chantemelse.service\n")])])]),t("p",[e._v("Et vérifiez son statut (Figure 2) :")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("systemctl status chantemelse.service\n")])])]),t("p",[t("img",{attrs:{src:a(383),alt:"Statut du service"}}),e._v(" "),t("em",[e._v("Figure 2 : Statut du service")])]),e._v(" "),t("p",[e._v("Le back-end devrait maintenant fonctionner !")])])}),[],!1,null,null,null);s.default=r.exports}}]);