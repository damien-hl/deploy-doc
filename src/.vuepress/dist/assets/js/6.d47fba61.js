(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{349:function(e,s,a){e.exports=a.p+"assets/img/config_mysql.fa3f02c6.jpg"},350:function(e,s,a){e.exports=a.p+"assets/img/login_mysql.a33e3ed6.jpg"},383:function(e,s,a){"use strict";a.r(s);var t=a(42),r=Object(t.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"base-de-donnees-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#base-de-donnees-mysql"}},[e._v("#")]),e._v(" Base de données MySQL")]),e._v(" "),t("h2",{attrs:{id:"sauvegarde-de-la-base-de-donnees-locale"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sauvegarde-de-la-base-de-donnees-locale"}},[e._v("#")]),e._v(" Sauvegarde de la base de données locale")]),e._v(" "),t("p",[e._v("Sur votre ordinateur, sauvegardez votre base de données locale pour pouvoir ensuite seeder la base de données de votre serveur")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("mysqldump -u "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("nom_utilisateur_bbd"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" -p "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("nom_de_la_bdd"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" seed.sql\n")])])]),t("p",[e._v("Cela va vous créer un fichier "),t("code",[e._v("seed.sql")]),e._v(" dans le répertoire où vous vous trouver (Figure 1)")]),e._v(" "),t("p",[t("img",{attrs:{src:"src/guide/images/save_database.jpg",alt:"Sauvegarde de la base de données locale"}}),e._v(" "),t("em",[e._v("Figure 1 : Sauvegarde de la base de données locale")])]),e._v(" "),t("p",[e._v("Envoyez ce fichier sur votre serveur, dans le dossier de l'utilisateur "),t("code",[e._v("~/")]),e._v(" avec FileZilla ou SCP.")]),e._v(" "),t("p",[e._v("Avec SCP par exemple :")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("scp")]),e._v(" -P "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1337")]),e._v(" ./seed.sql "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("nom_d_utilisateur"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("@"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("IP_du_serveur"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(":~/\n")])])]),t("h2",{attrs:{id:"installation-de-mysql-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation-de-mysql-server"}},[e._v("#")]),e._v(" Installation de MySQL Server")]),e._v(" "),t("p",[e._v("Sur le serveur, installez le paquet "),t("code",[e._v("mysql-server")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" mysql-server\n")])])]),t("p",[e._v("Une fois l'installation terminée, lancez la configuration du serveur")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" mysql_secure_installation\n")])])]),t("p",[e._v("Une série de questions va vous être posées et vous allez définir le mot de passe pour l'utilisateur "),t("code",[e._v("root")]),e._v(" (Figure 2 & Figure 3)")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("Setup VALIDATE PASSWORD PLUGIN? No\nRemove Anonymous users? Yes\nDisallow root login remotely? Yes\nRemove "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v(" database and access to it? Yes\nReload privilege table now? Yes\n")])])]),t("p",[t("img",{attrs:{src:"src/guide/images/secure_mysql_1.jpg",alt:"Série de questions"}}),e._v(" "),t("em",[e._v("Figure 2 : Série de questions")])]),e._v(" "),t("p",[t("img",{attrs:{src:"src/guide/images/secure_mysql_2.jpg",alt:"Série de questions"}}),e._v(" "),t("em",[e._v("Figure 3 : Série de questions")])]),e._v(" "),t("h2",{attrs:{id:"configuration-de-mysql-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration-de-mysql-server"}},[e._v("#")]),e._v(" Configuration de MySQL Server")]),e._v(" "),t("p",[e._v("Connectez-vous à MySQL")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" mysql\n")])])]),t("p",[e._v("Créez une base de données pour votre application, le nom de cette base doit correspondre à celle renseignée dans votre fichier "),t("code",[e._v("application.properties")]),e._v(" dans Spring Boot")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("DATABASE")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("nom_de_la_base"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("p",[e._v("Ajoutez un nouvel utilisateur dont le nom correspond à celui définit dans votre fichier "),t("code",[e._v("application.properties")]),e._v(" dans Spring Boot")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("USER")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'<nom_utilisateur_bbd>'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@'localhost'")]),e._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("BY")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'password_utilisateur_bbd'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("p",[e._v("Accordez toutes les permissions sur la base de données à votre utilisateur (Figure 4)")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("GRANT")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ALL")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("PRIVILEGES")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ON")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("nom_de_la_base"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TO")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'nom_utilisateur_bbd'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@'localhost'")]),e._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("BY")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'password_utilisateur_bbd'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("p",[t("img",{attrs:{src:a(349),alt:"Création d'un utilisateur"}}),e._v(" "),t("em",[e._v("Figure 4 : Création d'un utilisateur")])]),e._v(" "),t("p",[e._v("Quittez la session MySQL et reconnectez-vous avec l'utilisateur nouvellement crée")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("mysql -u "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("nom_utilisateur_bbd"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" -p\n")])])]),t("p",[e._v("Affichez les bases de données accessible par cet utilisateur (Figure 5)")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SHOW")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("DATABASES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("p",[t("img",{attrs:{src:a(350),alt:"Bases de données accessibles par cet utilisateur"}}),e._v(" "),t("em",[e._v("Figure 5 : Bases de données accessibles par cet utilisateur")])]),e._v(" "),t("p",[e._v("Vous pouvez à présent quittez cette session MySQl.")]),e._v(" "),t("h2",{attrs:{id:"restauration-de-la-base-de-donnees-sauvegardee"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restauration-de-la-base-de-donnees-sauvegardee"}},[e._v("#")]),e._v(" Restauration de la base de données sauvegardée")]),e._v(" "),t("p",[e._v("Pour restaurer votre sauvegarde MySQL, placez-vous dans le dossier où se trouve votre sauvegarde et exécuter la commande suivante")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("mysql -u "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("nom_utilisateur_bbd"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" -p "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("nom_de_la_base"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v(" seed.sql\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);